Ah â€” now I see what you mean ðŸ‘€

Youâ€™re saying:

> If I remove the audio bitrate config in LiveKit, it automatically adjusts bitrate (higher bandwidth = more cost).
So you set it manually to 50 kbps or 96 kbps to control usage â€” but then voice stops transmitting, right?



Thatâ€™s a smart optimization idea ðŸ’¡ but hereâ€™s whatâ€™s happening technically ðŸ‘‡


---

âš  Why Audio Stops Working When You Set Bitrate

LiveKit uses the Opus codec, which automatically manages variable bitrate (VBR).
When you force a fixed bitrate manually, LiveKitâ€™s RTCRtpSender constraints can get mismatched with Opus expectations â€” leading to:

track creation success âœ…

but no audio packets transmitted âŒ


Especially if you use:

createLocalAudioTrack({ bitrate: 50000 })

LiveKit may ignore or break that config silently.


---

âœ… Correct Way to Limit Audio Bandwidth (without breaking it)

Instead of setting bitrate directly, use maxBitrate in publishTrack:

const audioTrack = await createLocalAudioTrack();

await room.localParticipant.publishTrack(audioTrack, {
  maxBitrate: 50000, // 50 kbps limit
});

ðŸ‘‰ This way:

Opus still adapts naturally (no silence issue)

You get a hard cap on average bitrate

Voice will transmit normally



---

ðŸ§© Optional: Disable DTX (to save cost further)

Opus uses â€œDiscontinuous Transmissionâ€ â€” it sends no packets during silence. If you enable this (itâ€™s on by default), youâ€™ll save more bandwidth:

const audioTrack = await createLocalAudioTrack({
  dtx: true, // saves bandwidth when no oneâ€™s speaking
});


---

ðŸ”Š Full Working Example

import { connect, createLocalAudioTrack, RoomEvent } from "livekit-client";

const room = await connect(LIVEKIT_URL, token);

const audioTrack = await createLocalAudioTrack({ dtx: true });

await room.localParticipant.publishTrack(audioTrack, {
  maxBitrate: 50000, // 50 kbps
});

// remote side
room.on(RoomEvent.TrackSubscribed, (track, publication, participant) => {
  if (track.kind === "audio") {
    const el = track.attach();
    el.autoplay = true;
    document.body.appendChild(el);
  }
});


---

ðŸ’¡ Summary

Goal	Wrong Way	Correct Way

Control audio cost	bitrate: 50000 inside createLocalAudioTrack()	maxBitrate: 50000 inside publishTrack()
Save bandwidth	Lower sample rate manually	Use dtx: true
Maintain clarity	Fixed bitrate	Let Opus adjust (within your maxBitrate cap)



---

If you share your current audio setup code, I can rewrite it to be bandwidth-optimized and fully functional (no silent mic).
Would you like me to fix your code snippet accordingly?