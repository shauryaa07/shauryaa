Okay â€” since even with maxBitrate itâ€™s still not transmitting audio, letâ€™s go step-by-step through the real causes that make LiveKit send video but not audio.

Weâ€™ll narrow it down precisely â€” no guessing.


---

ğŸ§  Step 1 â€” Confirm if microphone data is actually being captured

Run this right after you create the track:

console.log(localAudioTrack.mediaStreamTrack.readyState);

âœ… Expected: "live"
âŒ If itâ€™s "ended", that means browser mic access failed â€” even if permission popup didnâ€™t show again.

Also, test this manually in console:

navigator.mediaDevices.getUserMedia({ audio: true }).then(stream => {
  console.log("Mic works:", stream.getAudioTracks()[0].enabled);
});

If that doesnâ€™t log true, the mic is not available.


---

ğŸ§© Step 2 â€” Check browser permissions

Even when camera works, mic can still be blocked.
Go to Chrome â†’ ğŸ”’ icon in the address bar â†’ Site Settings â†’ Microphone â†’ Allow.
Then refresh.
If youâ€™re testing locally, use https://localhost or a secure domain. LiveKit requires HTTPS for mic.


---

ğŸ§ Step 3 â€” Check if track is actually published

Enable LiveKit debug logs:

import { setLogLevel } from "livekit-client";
setLogLevel("debug");

Then watch your browser console after publishTrack.

You should see:

Publishing audio track mic...
RTCRtpSender ready

If you see â€œno sender created for trackâ€, your publish call didnâ€™t actually attach it.


---

ğŸ”‰ Step 4 â€” Remote side must attach the track

LiveKit does not automatically play audio.
Check youâ€™re handling:

room.on(RoomEvent.TrackSubscribed, (track) => {
  if (track.kind === "audio") {
    const el = track.attach();
    el.autoplay = true;
    document.body.appendChild(el);
  }
});

Without this, audio is being sent, but no one is listening.


---

ğŸ§ª Step 5 â€” Test with LiveKitâ€™s example app

To isolate the issue from your code, open:
ğŸ‘‰ https://livekit.io/playground
Connect using the same LiveKit server and token.
If audio works there, your server and token are fine â€” problem is only in your app logic.
If audio still fails there, your LiveKit serverâ€™s TURN/ICE configuration might be broken (very common if you self-host).


---

ğŸ§± Step 6 â€” Check TURN / ICE setup (especially if self-hosted)

If your server uses livekit-server and youâ€™re behind NAT or cloud firewall:

Ensure UDP ports 50000â€“60000 are open.

If not, browsers may connect via TCP â€” video can still pass, but audio packets often drop.


Try adding a public TURN server in your config.yaml:

rtc:
  use_external_ip: true
  turn:
    enabled: true
    servers:
      - urls: [stun:stun.l.google.com:19302]

Then restart your server.


---

âœ… Quick diagnostic checklist

Test	Expected Result

mediaStreamTrack.readyState	"live"
Browser mic permission	Allowed
LiveKit debug logs	â€œPublishing audio trackâ€
Playground test	Works = local code issue / Fails = server issue
UDP ports open	Yes



---

Can you tell me:

1. Are you self-hosting LiveKit or using LiveKit Cloud?


2. Do you see any warning or error in console when you publish the audio?


3. Whatâ€™s the log output when you enable setLogLevel('debug')?



Once you give me that info, I can pinpoint whether itâ€™s a browser, server, or publishing issue â€” and give you an exact fix.